{"version":3,"sources":["webpack:///src/views/main-content.vue","webpack:///./src/views/main-content.vue?052d","webpack:///./src/views/main-content.vue"],"names":["main_content","name","params","_this","this","tabName","mainTabsActiveName","_this2","_this3","$route","views_main_content","render","_vm","_h","$createElement","_c","_self","staticClass","class","site-content--tabs","meta","isTab","attrs","closable","on","tab-click","selectedTabHandle","tab-remove","removeTabHandle","model","value","callback","$$v","expression","show-timeout","_v","slot","nativeOn","click","$event","tabsCloseCurrentHandle","tabsCloseOtherHandle","tabsCloseAllHandle","refresh","_l","item","key","label","title","body-style","siteContentViewHeight","type","src","iframeUrl","width","height","frameborder","scrolling","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__"],"mappings":"sHA8CAA,WAEA,2oBAsBA,oCAEA,wEACA,oBAEA,qGAMAC,kFAEAC,sCAIA,IAAAC,EAAAC,uEACAC,4DAGA,0CACA,0GAEAJ,iCAIA,2BACA,sEAKAK,qDAGA,IAAAC,EAAAH,sEACAE,yFAKA,2BACA,8CAGA,IAAAE,EAAAJ,YACAK,8BACAR,mFAEAC,cCtHeQ,GADEC,OAFjB,WAA0B,IAAAC,EAAAR,KAAaS,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,QAAkBE,YAAA,eAAAC,OAAkCC,qBAAAP,EAAAH,OAAAW,KAAAC,SAA+CT,EAAAH,OAAAW,KAAA,MAAAL,EAAA,WAAwCO,OAAOC,UAAA,GAAgBC,IAAKC,YAAAb,EAAAc,kBAAAC,aAAAf,EAAAgB,iBAAmEC,OAAQC,MAAAlB,EAAA,mBAAAmB,SAAA,SAAAC,GAAwDpB,EAAAN,mBAAA0B,GAA2BC,WAAA,wBAAkClB,EAAA,eAAoBE,YAAA,mBAAAK,OAAsCY,eAAA,KAAkBnB,EAAA,KAAUE,YAAA,sCAAgDL,EAAAuB,GAAA,KAAApB,EAAA,oBAAqCO,OAAOc,KAAA,YAAkBA,KAAA,aAAiBrB,EAAA,oBAAyBsB,UAAUC,MAAA,SAAAC,GAAyB,OAAA3B,EAAA4B,uBAAAD,OAA4C3B,EAAAuB,GAAA,aAAAvB,EAAAuB,GAAA,KAAApB,EAAA,oBAAyDsB,UAAUC,MAAA,SAAAC,GAAyB,OAAA3B,EAAA6B,qBAAAF,OAA0C3B,EAAAuB,GAAA,aAAAvB,EAAAuB,GAAA,KAAApB,EAAA,oBAAyDsB,UAAUC,MAAA,SAAAC,GAAyB,OAAA3B,EAAA8B,mBAAAH,OAAwC3B,EAAAuB,GAAA,aAAAvB,EAAAuB,GAAA,KAAApB,EAAA,oBAAyDsB,UAAUC,MAAA,SAAAC,GAAyB3B,EAAA+B,cAAgB/B,EAAAuB,GAAA,qBAAAvB,EAAAuB,GAAA,KAAAvB,EAAAgC,GAAAhC,EAAA,kBAAAiC,GAA+E,OAAA9B,EAAA,eAAyB+B,IAAAD,EAAA5C,KAAAqB,OAAqByB,MAAAF,EAAAG,MAAA/C,KAAA4C,EAAA5C,QAAqCc,EAAA,WAAgBO,OAAO2B,aAAArC,EAAAsC,yBAAwC,WAAAL,EAAAM,KAAApC,EAAA,UAAwCO,OAAO8B,IAAAP,EAAAQ,UAAAC,MAAA,OAAAC,OAAA,OAAAC,YAAA,IAAAC,UAAA,SAAyF1C,EAAA,cAAA8B,EAAA5C,OAAAW,EAAAN,mBAAAS,EAAA,eAAAH,EAAA8C,MAAA,cAAiG,GAAA3C,EAAA,WAAoBO,OAAO2B,aAAArC,EAAAsC,yBAAwCnC,EAAA,cAAAA,EAAA,4BAE/mD4C,oBCWjBC,EAbyBC,EAAQ,OAajCC,CACE9D,EACAU,GATF,EAEA,KAEA,KAEA,MAUeqD,EAAA,QAAAH,EAAiB","file":"static/js/16.939adeb438c0ef4561e6.js","sourcesContent":["<template>\n  <main class=\"site-content\" :class=\"{ 'site-content--tabs': $route.meta.isTab }\">\n    <!-- 主入口标签页 s -->\n    <el-tabs\n      v-if=\"$route.meta.isTab\"\n      v-model=\"mainTabsActiveName\"\n      :closable=\"true\"\n      @tab-click=\"selectedTabHandle\"\n      @tab-remove=\"removeTabHandle\">\n      <el-dropdown class=\"site-tabs__tools\" :show-timeout=\"0\">\n        <i class=\"el-icon-arrow-down el-icon--right\"></i>\n        <el-dropdown-menu slot=\"dropdown\">\n          <el-dropdown-item @click.native=\"tabsCloseCurrentHandle\">关闭当前标签页</el-dropdown-item>\n          <el-dropdown-item @click.native=\"tabsCloseOtherHandle\">关闭其它标签页</el-dropdown-item>\n          <el-dropdown-item @click.native=\"tabsCloseAllHandle\">关闭全部标签页</el-dropdown-item>\n          <el-dropdown-item @click.native=\"refresh()\">刷新当前标签页</el-dropdown-item>\n        </el-dropdown-menu>\n      </el-dropdown>\n      <el-tab-pane\n        v-for=\"item in mainTabs\"\n        :key=\"item.name\"\n        :label=\"item.title\"\n        :name=\"item.name\">\n        <el-card :body-style=\"siteContentViewHeight\">\n          <iframe\n            v-if=\"item.type === 'iframe'\"\n            :src=\"item.iframeUrl\"\n            width=\"100%\" height=\"100%\" frameborder=\"0\" scrolling=\"yes\">\n          </iframe>\n          <keep-alive v-else>\n            <router-view v-if=\"item.name === mainTabsActiveName\" />\n          </keep-alive>\n        </el-card>\n      </el-tab-pane>\n    </el-tabs>\n    <!-- 主入口标签页 e -->\n    <el-card v-else :body-style=\"siteContentViewHeight\">\n      <keep-alive>\n        <router-view />\n      </keep-alive>\n    </el-card>\n  </main>\n</template>\n\n<script>\n  import { isURL } from '@/utils/validate'\n  export default {\n    inject: ['refresh'],\n    data () {\n      return {\n      }\n    },\n    computed: {\n      documentClientHeight: {\n        get () { return this.$store.state.common.documentClientHeight }\n      },\n      menuActiveName: {\n        get () { return this.$store.state.common.menuActiveName },\n        set (val) { this.$store.commit('common/updateMenuActiveName', val) }\n      },\n      mainTabs: {\n        get () { return this.$store.state.common.mainTabs },\n        set (val) { this.$store.commit('common/updateMainTabs', val) }\n      },\n      mainTabsActiveName: {\n        get () { return this.$store.state.common.mainTabsActiveName },\n        set (val) { this.$store.commit('common/updateMainTabsActiveName', val) }\n      },\n      siteContentViewHeight () {\n        var height = this.documentClientHeight - 50 - 30 - 2\n        if (this.$route.meta.isTab) {\n          height -= 40\n          return isURL(this.$route.meta.iframeUrl) ? { height: height + 'px' } : { minHeight: height + 'px' }\n        }\n        return { minHeight: height + 'px' }\n      }\n    },\n    methods: {\n      // tabs, 选中tab\n      selectedTabHandle (tab) {\n        tab = this.mainTabs.filter(item => item.name === tab.name)\n        if (tab.length >= 1) {\n          this.$router.push({ name: tab[0].name, query: tab[0].query, params: tab[0].params })\n        }\n      },\n      // tabs, 删除tab\n      removeTabHandle (tabName) {\n        this.mainTabs = this.mainTabs.filter(item => item.name !== tabName)\n        if (this.mainTabs.length >= 1) {\n          // 当前选中tab被删除\n          if (tabName === this.mainTabsActiveName) {\n            var tab = this.mainTabs[this.mainTabs.length - 1]\n            this.$router.push({ name: tab.name, query: tab.query, params: tab.params }, () => {\n              this.mainTabsActiveName = this.$route.name\n            })\n          }\n        } else {\n          this.menuActiveName = ''\n          this.$router.push({ name: 'home' })\n        }\n      },\n      // tabs, 关闭当前\n      tabsCloseCurrentHandle () {\n        this.removeTabHandle(this.mainTabsActiveName)\n      },\n      // tabs, 关闭其它\n      tabsCloseOtherHandle () {\n        this.mainTabs = this.mainTabs.filter(item => item.name === this.mainTabsActiveName)\n      },\n      // tabs, 关闭全部\n      tabsCloseAllHandle () {\n        this.mainTabs = []\n        this.menuActiveName = ''\n        this.$router.push({ name: 'home' })\n      },\n      // tabs, 刷新当前\n      tabsRefreshCurrentHandle () {\n        var tab = this.$route\n        this.removeTabHandle(tab.name)\n        this.$nextTick(() => {\n          this.$router.push({ name: tab.name, query: tab.query, params: tab.params })\n        })\n      }\n    }\n  }\n</script>\n\n\n\n\n// WEBPACK FOOTER //\n// src/views/main-content.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main',{staticClass:\"site-content\",class:{ 'site-content--tabs': _vm.$route.meta.isTab }},[(_vm.$route.meta.isTab)?_c('el-tabs',{attrs:{\"closable\":true},on:{\"tab-click\":_vm.selectedTabHandle,\"tab-remove\":_vm.removeTabHandle},model:{value:(_vm.mainTabsActiveName),callback:function ($$v) {_vm.mainTabsActiveName=$$v},expression:\"mainTabsActiveName\"}},[_c('el-dropdown',{staticClass:\"site-tabs__tools\",attrs:{\"show-timeout\":0}},[_c('i',{staticClass:\"el-icon-arrow-down el-icon--right\"}),_vm._v(\" \"),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{nativeOn:{\"click\":function($event){return _vm.tabsCloseCurrentHandle($event)}}},[_vm._v(\"关闭当前标签页\")]),_vm._v(\" \"),_c('el-dropdown-item',{nativeOn:{\"click\":function($event){return _vm.tabsCloseOtherHandle($event)}}},[_vm._v(\"关闭其它标签页\")]),_vm._v(\" \"),_c('el-dropdown-item',{nativeOn:{\"click\":function($event){return _vm.tabsCloseAllHandle($event)}}},[_vm._v(\"关闭全部标签页\")]),_vm._v(\" \"),_c('el-dropdown-item',{nativeOn:{\"click\":function($event){_vm.refresh()}}},[_vm._v(\"刷新当前标签页\")])],1)],1),_vm._v(\" \"),_vm._l((_vm.mainTabs),function(item){return _c('el-tab-pane',{key:item.name,attrs:{\"label\":item.title,\"name\":item.name}},[_c('el-card',{attrs:{\"body-style\":_vm.siteContentViewHeight}},[(item.type === 'iframe')?_c('iframe',{attrs:{\"src\":item.iframeUrl,\"width\":\"100%\",\"height\":\"100%\",\"frameborder\":\"0\",\"scrolling\":\"yes\"}}):_c('keep-alive',[(item.name === _vm.mainTabsActiveName)?_c('router-view'):_vm._e()],1)],1)],1)})],2):_c('el-card',{attrs:{\"body-style\":_vm.siteContentViewHeight}},[_c('keep-alive',[_c('router-view')],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1e21caab\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/main-content.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./main-content.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1e21caab\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./main-content.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/main-content.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}